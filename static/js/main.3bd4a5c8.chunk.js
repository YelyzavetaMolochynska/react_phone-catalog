(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(26),n=c.n(a),s=c(6),i=c(8),r=c(3),o=c(5),l=c.n(o),u=c(4),d=c(1),j=c.n(d),b=c(10),m=c.n(b),p=c(0),O=j.a.createContext({cartedProducts:[],setCartedProducts:function(){},favProducts:[],setFavProducts:function(){}}),h=function(e){var t=e.children,c=JSON.parse(window.localStorage.getItem("cartedProducts")||"[]"),a=Object(d.useState)(c),n=Object(r.a)(a,2),s=n[0],i=n[1],o=JSON.parse(window.localStorage.getItem("favProducts")||"[]"),l=Object(d.useState)(o),u=Object(r.a)(l,2),j={cartedProducts:s,setCartedProducts:i,favProducts:u[0],setFavProducts:u[1]};return Object(p.jsx)(O.Provider,{value:j,children:t})};function _(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];""===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,e)}))):c.set(a,n)})),c.toString()}var v,f=c.p+"static/media/Logo.c9417692.svg",x=c.p+"static/media/Search.eb670dd9.svg",g=["phones","tablets","accessories","favorites"],N=function(e){var t=e.menuItems,c=e.toggleMenu,a=Object(d.useContext)(O).cartedProducts,n=Object(d.useContext)(O).favProducts,i=a.length,o=n.length,l=Object(u.n)(),j=Object(d.useState)(l.pathname.slice(1)),b=Object(r.a)(j,2),h=b[0],v=b[1],N=Object(s.d)(),y=Object(r.a)(N,2),k=y[0],w=y[1],C=k.get("query")||"";return Object(p.jsxs)("header",{id:"navbar",className:"App__header header",children:[Object(p.jsx)(s.b,{to:"/",className:"header__logo-link",children:Object(p.jsx)("img",{className:"header__logo-img",src:f,alt:"Phones"})}),Object(p.jsx)("nav",{className:"header__navbar",children:Object(p.jsx)("ul",{className:"header__menu-list",children:t.map((function(e){return Object(p.jsx)("li",{className:"header__menu-item",children:Object(p.jsx)(s.c,{to:e.to,className:function(e){var t=e.isActive;return m()("header__menu-link",{"is-active":t})},onClick:function(){return v(e.title)},children:e.title})},e.title)}))})}),Object(p.jsx)("button",{type:"button",className:"header__burger icon-button","aria-label":"Mute volume",onClick:c}),g.includes(h)&&Object(p.jsxs)("label",{className:"header__search",children:[Object(p.jsx)("input",{type:"text",className:"header__search-field",placeholder:"Search in ".concat(h,"..."),value:C,onChange:function(e){var t=_(k,{query:"".concat(e.currentTarget.value)||""});w(t)}}),""===C?Object(p.jsx)("img",{src:x,className:"header__search-img",alt:"search"}):Object(p.jsx)("button",{type:"button","aria-label":"Mute volume","data-cy":"searchDelete",className:"header__search-button",onClick:function(){var e=_(k,{query:""});w(e)}})]}),Object(p.jsx)(s.c,{to:"/favorites",className:function(e){var t=e.isActive;return m()("header__favorites-link","icon-button",{"is-active":t})},onClick:function(){return v("favorites")},children:o>0&&Object(p.jsx)("span",{className:"header__total-items",children:o})}),Object(p.jsx)(s.c,{to:"/cart",className:function(e){var t=e.isActive;return m()("header__cart-link","icon-button",{"is-active":t})},onClick:function(){return v("cart")},children:i>0&&Object(p.jsx)("span",{className:"header__total-items",children:i})})]})},y=c(7),k=[{idx:0,src:c.p+"static/media/banner-accessories.bdd2e0fc.png",alt:"Accessories"},{idx:1,src:c.p+"static/media/banner-phones.b4eeda8b.png",alt:"Phones"},{idx:2,src:c.p+"static/media/banner-tablets.a962057c.png",alt:"Tablets"}],w=j.a.memo((function(){var e=Object(d.useRef)(),t=Object(d.useState)(0),c=Object(r.a)(t,2),a=c[0],n=c[1],s=Object(d.useState)(0),i=Object(r.a)(s,2),o=i[0],l=i[1],u=Object(d.useState)(0),j=Object(r.a)(u,2),b=j[0],O=j[1],h=Object(d.useState)(1),_=Object(r.a)(h,2),v=_[0],f=_[1],x=Object(d.useState)(window.innerWidth),g=Object(r.a)(x,2),N=g[0],w=g[1],C=Object(d.useState)(0),S=Object(r.a)(C,2),P=S[0],A=S[1],E=Object(d.useState)(!1),I=Object(r.a)(E,2),L=I[0],M=I[1],q=Object(d.useMemo)((function(){var e=k.map((function(e){return Object(p.jsx)("li",{className:"carousel__item",children:Object(p.jsx)("img",{src:e.src,alt:e.alt,className:"carousel__img"})},e.idx)}));return[Object(p.jsx)("li",{className:"carousel__item",children:Object(p.jsx)("img",{src:k[k.length-1].src,alt:k[k.length-1].alt,className:"carousel__img"})},k.length)].concat(Object(y.a)(e),[Object(p.jsx)("li",{className:"carousel__item",children:Object(p.jsx)("img",{src:k[0].src,alt:k[0].alt,className:"carousel__img"})},k.length+1)])}),[]),T=function(){l(1e3),M(!0),v===k.length?(n((k.length+1)*b),f(1),A(0)):(n((v+1)*b),f(v+1),A(P+1))};return Object(d.useLayoutEffect)((function(){var t,c=(null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0;n(c)}),[]),Object(d.useEffect)((function(){var t;O((null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0),n(v*b)}),[N]),Object(d.useEffect)((function(){var t,c=(null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0;n(c);var a=function(){w(window.innerWidth),l(0)};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]),Object(d.useEffect)((function(){var e=function(){v<=1&&L&&(l(0),n(v*b)),v>=k.length&&(l(0),n(k.length*b))};return window.addEventListener("transitionend",e),function(){window.removeEventListener("transitionend",e)}}),[v]),Object(d.useEffect)((function(){var e=setInterval((function(){T()}),5e3);return function(){e&&window.clearInterval(e)}})),Object(p.jsx)("div",{className:"home-page__carousel carousel",children:Object(p.jsxs)("div",{className:"carousel__container _container",children:[Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" carousel__button carousel__button-left icon-button--left icon-button",onClick:function(){l(1e3),M(!0),1===v?(n(0),f(k.length),A(k.length-1)):(n((v-1)*b),f(v-1),A(P-1))}}),Object(p.jsx)("div",{className:"carousel__static-container",ref:e,children:Object(p.jsx)("ul",{className:"carousel__dynamic-container",style:{transform:"translateX(".concat(-a,"px)"),transitionDuration:"".concat(o,"ms")},children:q})}),Object(p.jsx)("div",{className:"carousel__indicators",children:k.map((function(e){return Object(p.jsx)("span",{className:m()("carousel__indicator",{"carousel__indicator--is-active":e.idx===P})},e.idx)}))}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" carousel__button carousel__button-right icon-button--right icon-button",onClick:T})]})})})),C=function(){var e=Object(d.useRef)(),t=Object(d.useRef)(),c=Object(d.useState)(0),a=Object(r.a)(c,2),n=a[0],s=a[1],i=Object(d.useState)(0),o=Object(r.a)(i,2),l=o[0],u=o[1],j=Object(d.useState)(0),b=Object(r.a)(j,2),m=b[0],p=b[1],O=Object(d.useState)(window.innerWidth),h=Object(r.a)(O,2),_=h[0],v=h[1],f=Object(d.useState)(!1),x=Object(r.a)(f,2),g=x[0],N=x[1];return Object(d.useLayoutEffect)((function(){var c,a;u((null===(c=e.current)||void 0===c?void 0:c.clientWidth)||0),p((null===(a=t.current)||void 0===a?void 0:a.clientWidth)||0)})),Object(d.useEffect)((function(){var e=function(){v(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(d.useEffect)((function(){var c,a;(u((null===(c=e.current)||void 0===c?void 0:c.clientWidth)||0),g)&&s(((null===(a=t.current)||void 0===a?void 0:a.clientWidth)||0)-l)}),[_]),{currTransitionX:n,isLastImgs:g,staticContainer:e,dynamicContainer:t,rightSlide:function(){n+2*l>=m?(s(m-l),N(!0)):s(n+l)},leftSlide:function(){N(!1),s(n-l<=0?0:n-l)}}},S=c.p+"static/media/category-phones.af93d992.png",P=c.p+"static/media/category-tablets.51782e18.png",A=c.p+"static/media/category-accessories.e47d6d6d.png",E=function(e){var t=e.productsAmounts,c=t.phonesAmount,a=t.tabletsAmount,n=t.accessoriesAmount,i=[{id:"phones",src:S,title:"Mobile phones",to:"/phones",amount:c},{id:"tablets",src:P,title:"Tablets",to:"/tablets",amount:a},{id:"accessories",src:A,title:"Accessories",to:"/accessories",amount:n}],r=C(),o=r.currTransitionX,l=r.isLastImgs,u=r.staticContainer,d=r.dynamicContainer,j=r.leftSlide,b=r.rightSlide;return Object(p.jsx)("section",{className:"home-page__category category",children:Object(p.jsxs)("div",{className:"category__container _container",children:[Object(p.jsxs)("div",{className:"category__header",children:[Object(p.jsx)("h2",{className:"category__title",children:"Shop by category"}),Object(p.jsxs)("div",{className:"category__buttons",children:[Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button--left icon-button",onClick:j,disabled:0===o}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button--right icon-button",onClick:b,disabled:l})]})]}),Object(p.jsx)("div",{className:"category__static-container",ref:u,children:Object(p.jsx)("ul",{ref:d,className:"category__dynamic-container",style:{transform:"translateX(".concat(-o,"px)"),transitionDuration:"500ms"},"data-cy":"categoryLinksContainer",children:i.map((function(e){return Object(p.jsx)("li",{className:"category__card",children:Object(p.jsxs)(s.b,{to:e.to,children:[Object(p.jsx)("div",{className:"\n                    category__img-container\n                    category__img-container--".concat(e.id),children:Object(p.jsx)("img",{className:"category__img category__img--".concat(e.id),src:e.src,alt:e.title})}),Object(p.jsx)("p",{className:"category__card-title",children:e.title}),Object(p.jsxs)("p",{className:"category__card-amount",children:[e.amount," model",e.amount>1?"s":""]})]})},e.id)}))})})]})})},I=c(12),L=function(e){var t=e.product,c=e.characteristicsArr,a=e.detailsOrder,n=e.priceClassName,s=void 0===n?"":n,i=e.buttonsClassName,o=void 0===i?"":i,l=e.characteristicsClassName,u=void 0===l?"":l,j=Object(d.useContext)(O),b=j.cartedProducts,h=j.setCartedProducts,_=Object(d.useContext)(O),v=_.favProducts,f=_.setFavProducts,x=Object(d.useState)(b.some((function(e){return e.itemId===(null===t||void 0===t?void 0:t.itemId)}))),g=Object(r.a)(x,2),N=g[0],k=g[1],w=Object(d.useState)(v.some((function(e){return e.itemId===(null===t||void 0===t?void 0:t.itemId)}))),C=Object(r.a)(w,2),S=C[0],P=C[1],A=function(e,c,a,n,s){if(!n&&t)window.localStorage.setItem(e,JSON.stringify([].concat(Object(y.a)(c),[Object(I.a)(Object(I.a)({},t),{},{count:1})]))),a([].concat(Object(y.a)(c),[Object(I.a)(Object(I.a)({},t),{},{count:1})]));else{var i=c.filter((function(e){return e.itemId!==(null===t||void 0===t?void 0:t.itemId)}));window.localStorage.setItem(e,JSON.stringify(i)),a(i)}s(!n)};return Object(p.jsxs)("div",{className:"product-card__info main-product-details",children:[Object(p.jsxs)("p",{className:"main-product-details__price ".concat(s),style:{order:"".concat(a.indexOf("price")+1)},children:["$",null===t||void 0===t?void 0:t.price,Object(p.jsxs)("span",{className:"main-product-details__sale",children:["$",null===t||void 0===t?void 0:t.fullPrice]})]}),Object(p.jsx)("ul",{className:"main-product-details__characteristics-container\n          ".concat(u),style:{order:"".concat(a.indexOf("characteristics")+1)},children:c.map((function(e){return Object(p.jsxs)("li",{className:"main-product-details__characteristic",children:[e.name,Object(p.jsx)("span",{className:"main-product-details__characteristic-value",children:e.value})]},e.name)}))}),Object(p.jsxs)("div",{className:"main-product-details__buttons ".concat(o),style:{order:"".concat(a.indexOf("buttons")+1)},children:[Object(p.jsx)("button",{type:"button",className:m()("main-product-details__add-to-cart","icon-button",{"main-product-details--is-selected-cart":N}),onClick:function(){A("cartedProducts",b,h,N,k)},children:N?"Selected":"Add to cart"}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume","data-cy":"addToFavorite",className:m()("main-product-details__add-to-favorites","icon-button",{"main-product-details--is-selected-fav":S}),onClick:function(){A("favProducts",v,f,S,P)}})]})]})},M=function(){window.scrollTo({top:0,behavior:"smooth"})},q=function(e){var t=e.product,c=[{name:"Screen",value:t.screen},{name:"Capacity",value:t.capacity},{name:"RAM",value:t.ram}];return Object(p.jsxs)("div",{className:"product-card",children:[Object(p.jsx)(s.b,{to:"".concat(t.phoneId),className:"product-card__picture",onClick:M,children:Object(p.jsx)("img",{className:"product-card__img",src:t.image,alt:t.name})}),Object(p.jsx)(s.b,{to:"".concat(t.phoneId),className:"product-card__title",onClick:M,children:t.name}),Object(p.jsx)(L,{product:t,characteristicsArr:c,detailsOrder:["price","characteristics","buttons"]})]})},T=function(e){var t=e.products,c=e.topAmount,a=e.title,n=C(),s=n.currTransitionX,i=n.isLastImgs,r=n.staticContainer,o=n.dynamicContainer,l=n.rightSlide,u=n.leftSlide;return Object(p.jsxs)("div",{className:"products-slider",children:[Object(p.jsxs)("div",{className:"products-slider__header",children:[Object(p.jsx)("h2",{className:"products-slider__title",children:a}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-slider__button-left icon-button icon-button--left",onClick:u,disabled:0===s}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button icon-button--right",onClick:l,disabled:i})]}),Object(p.jsx)("div",{className:"products-slider__static-container",ref:r,children:Object(p.jsx)("ul",{ref:o,className:"products-slider__dynamic-container",style:{transform:"translateX(".concat(-s,"px)"),transitionDuration:"1000ms"},children:null===t||void 0===t?void 0:t.slice(0,c).map((function(e){return Object(p.jsx)("li",{className:"products-slider__item","data-cy":"cardsContainer",children:Object(p.jsx)(q,{product:e})},e.id)}))})})]})};function F(e,t){if(!e)return null;var c=Object(y.a)(e);return c.sort((function(e,c){var a=e.fullPrice-e.price,n=c.fullPrice-c.price;switch(t){case v.Discount:return n-a;case v.Expensive:return c.fullPrice-e.fullPrice;case v.Age:return c.year-e.year;case v.Name:return e.name.localeCompare(c.name);case v.Cheapest:return e.fullPrice-c.fullPrice;default:return 0}})),c}!function(e){e.Discount="Discount",e.Expensive="Expensive",e.Age="Newest",e.Name="Alphabetically",e.Cheapest="Cheapest"}(v||(v={}));var D=function(e){var t=e.products,c=F(t,v.Discount),a={phonesAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"phones"===e.category})).length)||0,tabletsAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"tablets"===e.category})).length)||0,accessoriesAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"accessories"===e.category})).length)||0},n=F(t,v.Age);return Object(p.jsx)("section",{className:"App__home-page home-page",children:Object(p.jsxs)("div",{className:"home-page__container",children:[Object(p.jsx)(w,{}),Object(p.jsx)(T,{products:c,topAmount:20,title:"Hot prices"}),Object(p.jsx)(E,{productsAmounts:a}),Object(p.jsx)(T,{title:"Brand new models",products:n,topAmount:20})]})})},W="https://mate-academy.github.io/react_phone-catalog/_new";function B(e){return new Promise((function(t){setTimeout(t,e)}))}function R(e){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B(500).then((function(){return fetch(W+t)})).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return R("/products.json")}function z(e){return R("/products/".concat(e,".json"))}var $=function(){return Object(p.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(p.jsx)("div",{className:"Loader__content"})})},H=function(e){var t=e.message,c=void 0===t?"Oops... Something went wrong. Please try to reload the page.":t;return Object(p.jsx)("div",{className:"error",children:c})},U=function(e){var t=Object(d.useState)(e),c=Object(r.a)(t,2),a=c[0],n=c[1];return Object(d.useEffect)((function(){document.body.style.overflow=a?"hidden":"auto"}),[a]),[a,function(){n(!a)}]},Y=function(e){var t=e.callback;return Object(p.jsx)("div",{className:"not-implemented",children:Object(p.jsxs)("div",{className:"not-implemented__container",children:[Object(p.jsx)("p",{className:"not-implemented__message",children:"We are sorry, but this feature is not implemented yet"}),Object(p.jsx)("button",{type:"button",className:"not-implemented__button icon-button",onClick:t,children:"OK"})]})})},G=function(){var e=U(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(d.useState)(!1),i=Object(r.a)(n,2),o=i[0],l=i[1];return Object(d.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>400?l(!0):l(!1)}))}),[]),Object(p.jsxs)("footer",{className:"App__footer footer",children:[Object(p.jsxs)("div",{className:"footer__container _container",children:[Object(p.jsx)(s.b,{to:"/",className:"footer__logo-link",onClick:M,children:Object(p.jsx)("img",{className:"footer__logo-img",src:f,alt:"Phones"})}),Object(p.jsx)("nav",{className:"footer__navbar",children:Object(p.jsxs)("ul",{className:"footer__menu-list",children:[Object(p.jsx)("li",{className:"footer__menu-item",children:Object(p.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noreferrer",className:"footer__menu-link",children:"github"})}),Object(p.jsx)("li",{className:"footer__menu-item",children:Object(p.jsx)("button",{type:"button",className:"footer__menu-link",onClick:a,children:"contacts"})}),Object(p.jsx)("li",{className:"footer__menu-item",children:Object(p.jsx)("button",{type:"button",className:"footer__menu-link",onClick:a,children:"rights"})})]})}),o&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{type:"button",className:"footer__back-top-link",onClick:M,children:"Back to top"}),Object(p.jsx)("button",{type:"button",className:"footer__back-top-button icon-button",onClick:M,"aria-label":"Mute volume"})]})]}),c&&Object(p.jsx)(Y,{callback:a})]})};function K(e,t){var c=Object(d.useState)(e),a=Object(r.a)(c,2),n=a[0],s=a[1];return Object(d.useEffect)((function(){var c=setTimeout((function(){s(e)}),t);return function(){clearTimeout(c)}}),[e]),n}var Q=function(e){var t=e.category,c=Object(u.r)().selectedProductId,a=void 0===c?"":c,n=Object(s.d)(),i=K(Object(r.a)(n,1)[0].get("query")||"",500);return Object(p.jsx)("section",{className:"App__products-page products-page",children:Object(p.jsxs)("div",{className:"products-page__container _container",children:[""===i&&Object(p.jsxs)("div",{className:"page-navigation","data-cy":"breadCrumbs",children:[Object(p.jsx)(s.b,{to:"/",className:"page-navigation__home-link"}),Object(p.jsx)(s.b,{to:"/".concat(t),className:"page-navigation__current-page-link",style:{pointerEvents:"".concat(""===a?"none":"initial")},children:t[0].toLocaleUpperCase()+t.slice(1)}),""!==a&&Object(p.jsx)(s.b,{to:"/".concat(t),className:"page-navigation__current-page-link",style:{pointerEvents:"none"},children:a.split("-").join(" ")})]}),Object(p.jsx)(u.b,{})]})})},Z=c(9),V=function(e){var t=e.itemsList,c=e.value,a=e.filteredBy,n=e.callback,i=Object(d.useState)(!1),o=Object(r.a)(i,2),l=o[0],u=o[1],j=Object(d.useRef)(null),b=Object(d.useRef)(null),O=Object(s.d)(),h=Object(r.a)(O,1)[0],v=function(){u(!l)},f=function(e){return function(){n(e),v()}},x=Object(d.useCallback)((function(e){var t=e.target,c=null===j||void 0===j?void 0:j.current,a=null===b||void 0===b?void 0:b.current;c&&t instanceof Node&&!c.contains(t)&&t!==a&&u(!1)}),[l,j]);return Object(d.useEffect)((function(){return document.addEventListener("mousedown",x),function(){document.removeEventListener("mousedown",x)}}),[x]),Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsx)("button",{type:"button",className:m()("dropdown__button",{"dropdown__button--is-active":!!l}),onClick:v,ref:b,children:c}),Object(p.jsx)("ul",{className:m()("dropdown__list",{"dropdown__list--is-active":!!l}),ref:j,children:t.map((function(e){return Object(p.jsx)("li",{className:"dropdown__item",children:Object(p.jsx)(s.b,{to:"perPage"===a?{search:_(h,{page:"1",perPage:"".concat(e.query)})}:{search:_(h,Object(Z.a)({},a,"".concat(e.query)))},onClick:f(e),className:"dropdown__link",children:e.title})},e.title)}))})]})},ee=function(e,t){return""!==(null===t||void 0===t?void 0:t.trim())&&null!==t?e.filter((function(e){return null===t||void 0===t?void 0:t.toLowerCase().split(" ").every((function(t){return e.name.toLowerCase().includes(t)}))})):e},te=function(e){var t=e.category;return Object(p.jsxs)("div",{className:"no-results",children:[Object(p.jsxs)("h2",{className:"no-results__title",children:[t[0].toLocaleUpperCase()+t.slice(1)," not found"]}),Object(p.jsx)(s.b,{to:"/",className:"no-results__link icon-button",children:"Go Home"})]})},ce=function(e){var t,c=e.title,a=e.category,n=Object(d.useState)([]),o=Object(r.a)(n,2),u=o[0],j=o[1],b=Object(d.useState)(0),O=Object(r.a)(b,2),h=O[0],f=O[1],x=Object(d.useState)(!0),g=Object(r.a)(x,2),N=g[0],k=g[1],w=Object(d.useState)(!1),C=Object(r.a)(w,2),S=C[0],P=C[1],A=[{title:"Default",value:"Default",query:""},{title:v.Age,value:"age",query:"age"},{title:v.Name,value:"name",query:"name"},{title:v.Cheapest,value:"price",query:"price"}],E=[{title:"4",value:4,query:"4"},{title:"8",value:8,query:"8"},{title:"16",value:16,query:"16"},{title:"all",value:h,query:"all"}],I=Object(s.d)(),L=Object(r.a)(I,2),T=L[0],D=L[1],W=Object(d.useState)(E[2].value),B=Object(r.a)(W,2),R=B[0],J=B[1],z=Object(d.useState)(A[0]),U=Object(r.a)(z,2),Y=U[0],G=U[1],Q=Object(d.useState)([1]),Z=Object(r.a)(Q,2),ce=Z[0],ae=Z[1],ne=Object(d.useState)(+(T.get("page")||1)),se=Object(r.a)(ne,2),ie=se[0],re=se[1],oe=(ie-1)*R,le=ie*R>h?h:ie*R,ue=K(T.get("query")||"",500);function de(){return(de=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,X();case 4:t=e.sent,j(t.filter((function(e){return e.category===a}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),P(!0);case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}var je=function(e){var t=_(T,{page:"".concat(e),perPage:"".concat(R)});D(t),re(e),M()},be=Object(d.useMemo)((function(){var e=Object(y.a)(u);return"Default"!==Y.title||ue?(e=ee(e,ue),f(e.length),Y.title?F(e,Y.title):e):(f(u.length),u)}),[Y.title,u.length,ue])||[];return Object(d.useEffect)((function(){for(var e,t=Math.ceil(h/+R),c=[],a=1;a<=t;a++)c.push(a);ae(c),J((null===(e=E.find((function(e){return e.title===T.get("perPage")})))||void 0===e?void 0:e.value)||16)}),[h,R]),Object(d.useEffect)((function(){!function(){de.apply(this,arguments)}(),G(A.find((function(e){return e.query===T.get("sort")}))||A[0])}),[a]),N?Object(p.jsx)($,{}):N||0!==(null===be||void 0===be?void 0:be.length)||""!==ue?!N&&S?Object(p.jsx)(H,{}):Object(p.jsxs)("article",{className:"products-list",children:[""===ue?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"products-list__title",children:c}),0!==h&&Object(p.jsxs)("p",{className:"products-list__amount total",children:[h," model",h>1?"s":""]}),Object(p.jsxs)("div",{className:"products-list__dropdowns-container",children:[Object(p.jsxs)("div",{className:"products-list__dropdown",children:[Object(p.jsx)("p",{className:"products-list__dropdown-title",children:"Sort by"}),Object(p.jsx)(V,{itemsList:A,value:Y.title,filteredBy:"sort",callback:function(e){G(e)}})]}),Object(p.jsxs)("div",{className:"products-list__dropdown",children:[Object(p.jsx)("p",{className:"products-list__dropdown-title",children:"Items on page"}),Object(p.jsx)(V,{itemsList:E,value:(null===(t=E.find((function(e){return e.title===T.get("perPage")})))||void 0===t?void 0:t.title)||16,filteredBy:"perPage",callback:function(e){J(+e.value),re(1)}})]})]})]}):Object(p.jsxs)("p",{className:"products-list__serch-result total",children:[h," result",h>1?"s":""]}),Object(p.jsx)("div",{className:"products-list__producst-container products-grid","data-cy":"productList",children:null===be||void 0===be?void 0:be.slice(oe,le).map((function(e){return Object(p.jsx)(d.Fragment,{children:Object(p.jsx)(q,{product:e})},e.id)}))}),(null===be||void 0===be?void 0:be.length)>R&&Object(p.jsxs)("div",{className:"products-list__pagination-container",children:[Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-list__button icon-button icon-button--left",onClick:function(){return je(ie-1)},disabled:1===ie,"data-cy":"paginationLeft"}),Object(p.jsx)("div",{className:"products-list__pages-container",children:ce.map((function(e){return Object(p.jsx)("button",{type:"button",className:m()("products-list__pagination-button","icon-button",{"products-list__pagination-button--is-active":e===ie}),onClick:function(){return je(e)},children:e},e)}))}),Object(p.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-list__button icon-button icon-button--right",onClick:function(){return je(ie+1)},disabled:ie===ce[ce.length-1],"data-cy":"paginationRight"})]}),";"]}):Object(p.jsx)(te,{category:a})},ae=function(){return Object(p.jsx)("button",{type:"button",className:"back-link",onClick:function(){window.history.back()},"data-cy":"backButton",children:"Back"})};var ne=function(e){var t=e.products,c=Object(u.r)().selectedProductId,a=void 0===c?"":c,n=Object(d.useState)(null),o=Object(r.a)(n,2),j=o[0],b=o[1],O=Object(d.useState)([]),h=Object(r.a)(O,2),_=h[0],v=h[1],f=function(e){if(!e)return[];for(var t,c=e.length;0!==c;){t=Math.floor(Math.random()*c),c--;var a=[e[t],e[c]];e[c]=a[0],e[t]=a[1]}return e}(t),x=Object(d.useState)(""),g=Object(r.a)(x,2),N=g[0],k=g[1],w=Object(d.useState)(""),C=Object(r.a)(w,2),S=C[0],P=C[1],A=Object(d.useState)(""),E=Object(r.a)(A,2),I=E[0],M=E[1],q=a.split("-").slice(0,-2),F=null===t||void 0===t?void 0:t.find((function(e){return e.itemId===a})),D=Object(d.useState)(!1),W=Object(r.a)(D,2),B=W[0],R=W[1],J=Object(d.useState)(!1),X=Object(r.a)(J,2),U=X[0],Y=X[1];function G(){return(G=Object(i.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,z(a);case 4:c=e.sent,b(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),null!==t&&void 0!==t&&t.some((function(e){return e.itemId===a}))&&Y(!0);case 11:return e.prev=11,R(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){v([{name:"Screen",value:null===j||void 0===j?void 0:j.screen},{name:"Resolution",value:null===j||void 0===j?void 0:j.resolution},{name:"Processor",value:null===j||void 0===j?void 0:j.processor},{name:"RAM",value:null===j||void 0===j?void 0:j.ram},{name:"Built-in memory",value:null===j||void 0===j?void 0:j.capacity},{name:"Camera",value:null===j||void 0===j?void 0:j.camera},{name:"Zoom",value:null===j||void 0===j?void 0:j.zoom},{name:"Cell",value:null===j||void 0===j?void 0:j.cell.join(", ")}]),k((null===j||void 0===j?void 0:j.images[0])||""),P((null===j||void 0===j?void 0:j.color)||""),M((null===j||void 0===j?void 0:j.capacity.toLowerCase())||"")}),[null===j||void 0===j?void 0:j.id]),Object(d.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[a]),B?Object(p.jsx)($,{}):Object(p.jsxs)("section",{className:"product-details",children:[Object(p.jsx)(ae,{}),U&&Object(p.jsx)(H,{}),!B&&!U&&!j&&Object(p.jsx)(H,{message:"Product was not found"}),!B&&!U&&j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"product-details__title",children:null===j||void 0===j?void 0:j.name}),Object(p.jsxs)("div",{className:"product-details__main-block",children:[Object(p.jsxs)("article",{className:"product-details__pictures-block",children:[Object(p.jsx)("div",{className:"product-details__pictures-list",children:null===j||void 0===j?void 0:j.images.map((function(e){return Object(p.jsx)("button",{type:"button",className:m()("product-details__pictures-item",{"product-details--is-active-border":N===e}),onClick:function(){return function(e){k(e)}(e)},children:Object(p.jsx)("img",{src:e,alt:null===j||void 0===j?void 0:j.name,className:"product-details__img"})},e)}))}),Object(p.jsx)("div",{className:"product-details__pictures-presentation",children:Object(p.jsx)("img",{src:N,alt:null===j||void 0===j?void 0:j.name,className:"product-details__img"})})]}),Object(p.jsxs)("article",{className:"product-details__actions-block",children:[Object(p.jsxs)("div",{className:"product-details__colors",children:[Object(p.jsx)("p",{children:"Available colors"}),Object(p.jsx)("ul",{className:"product-details__actions-list",children:null===j||void 0===j?void 0:j.colorsAvailable.map((function(e){var t="";switch(e){case"rosegold":t="#fddcd7";break;case"spacegray":t="#52514f";break;case"midnightgreen":t="#4e5850";break;case"green":t="#ade1cd";break;case"yellow":t="#ffe680";break;case"purple":t="#d1cddb";break;case"gold":t="#fbd7bd";break;case"coral":t="#e4664f";break;default:t=e}return Object(p.jsx)("li",{className:m()("product-details__color-item",{"product-details--is-active-border":S===e}),children:Object(p.jsx)(s.b,{to:"../".concat([].concat(Object(y.a)(q),[I,e]).join("-")),className:"product-details__color-link",style:{backgroundColor:"".concat(t)},type:"button","aria-label":"Mute volume",onClick:function(){return function(e){P(e)}(e)}})},e)}))})]}),Object(p.jsxs)("div",{className:"product-details__capacity",children:[Object(p.jsx)("p",{children:"Select capacity"}),Object(p.jsx)("ul",{className:"product-details__actions-list",children:null===j||void 0===j?void 0:j.capacityAvailable.map((function(e){return Object(p.jsx)("li",{className:m()("product-details__capacity-item",{"product-details--is-active-background":I===e.toLowerCase()}),children:Object(p.jsx)(s.b,{to:"../".concat([].concat(Object(y.a)(q),[e.toLowerCase(),S]).join("-")),onClick:function(){return function(e){M(e)}(e)},className:m()("product-details__capacity-item-link",{"product-details__capacity-item-link--is-active":I===e.toLowerCase()}),children:e})},e)}))})]}),Object(p.jsx)(L,{product:F,characteristicsArr:_.slice(0,4),detailsOrder:["price","buttons","characteristics"],priceClassName:"product-details__price",buttonsClassName:"product-details__buttons"})]}),Object(p.jsxs)("article",{className:"product-details__about-block","data-cy":"productDescription",children:[Object(p.jsx)("h3",{className:"product-details__block-title",children:"About"}),null===j||void 0===j?void 0:j.description.map((function(e){return Object(p.jsxs)(d.Fragment,{children:[Object(p.jsx)("h4",{className:"product-details__paragraphe-title",children:e.title}),Object(p.jsx)("p",{className:"product-details__paragraphe-text",children:e.text})]},e.title)}))]}),Object(p.jsxs)("article",{className:"product-details__tech-block",children:[Object(p.jsx)("h3",{className:"product-details__block-title",children:"Tech specs"}),Object(p.jsx)("ul",{className:"main-product-details__characteristics-container",children:_.map((function(e){return Object(p.jsxs)("li",{className:"main-product-details__characteristic",children:[e.name,Object(p.jsx)("span",{className:"main-product-details__characteristic-value",children:e.value})]},e.name)}))})]})]})]}),Object(p.jsx)(T,{title:"You may also like",products:f,topAmount:(null===t||void 0===t?void 0:t.length)||0})]})},se=function(){var e=Object(d.useContext)(O).favProducts,t=e.length,c=Object(s.d)(),a=K(Object(r.a)(c,1)[0].get("query")||"",500),n=Object(d.useMemo)((function(){var t=Object(y.a)(e);return a?ee(t,a):e}),[Object(y.a)(e),a])||[];return Object(p.jsx)("section",{className:"fav-page",children:Object(p.jsxs)("div",{className:"fav-page__container _container",children:[""===a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"page-navigation",children:[Object(p.jsx)(s.b,{to:"/",className:"page-navigation__home-link"}),Object(p.jsx)(s.b,{to:"/favorites",className:"page-navigation__current-page-link",style:{pointerEvents:"none"},children:"Favorites"})]}),Object(p.jsx)("h1",{className:"fav-page__title _titles",children:"Favorites"}),0!==t&&Object(p.jsxs)("p",{className:"fav-page__total total",children:[t," model",t>1?"s":""]})]}):Object(p.jsxs)("p",{className:"fav-page__serch-result total",children:[t," result",t>1?"s":""]}),0===t?Object(p.jsx)("p",{children:"No products in Favorites"}):Object(p.jsx)("div",{className:"fav-page__producst-container products-grid","data-cy":"productList",children:n.map((function(e){return Object(p.jsx)(d.Fragment,{children:Object(p.jsx)(q,{product:e})},e.id)}))})]})})},ie=function(){var e=Object(d.useContext)(O),t=e.cartedProducts,c=e.setCartedProducts,a=Object(d.useState)(0),n=Object(r.a)(a,2),s=n[0],i=n[1],o=Object(d.useState)(0),l=Object(r.a)(o,2),u=l[0],j=l[1],b=U(!1),m=Object(r.a)(b,2),h=m[0],_=m[1],v=function(e,a){var n=t.map((function(t){return t.itemId===e.itemId?"inc"===a?Object(I.a)(Object(I.a)({},e),{},{count:e.count+1}):Object(I.a)(Object(I.a)({},e),{},{count:e.count-1}):t}));window.localStorage.setItem("cartedProducts",JSON.stringify(Object(y.a)(n))),c(n),"inc"===a&&(i((function(t){return t+e.price})),j((function(e){return e+1}))),"dec"===a&&(i((function(t){return t-e.price})),j((function(e){return e-1})))};return Object(d.useEffect)((function(){t.length>0&&t.forEach((function(e){i((function(t){return t+e.price*e.count})),j((function(t){return t+e.count}))}))}),[]),Object(p.jsxs)("section",{className:"cart",children:[Object(p.jsxs)("div",{className:"cart__container _container",children:[Object(p.jsx)(ae,{}),Object(p.jsx)("h1",{className:"cart__title",children:"Cart"}),0===t.length?Object(p.jsx)("p",{children:"Your cart is empty"}):Object(p.jsxs)("div",{className:"cart__contant",children:[Object(p.jsx)("ul",{className:"cart__products-list",children:t.map((function(e){return Object(p.jsxs)("li",{className:"cart__product",children:[Object(p.jsx)("button",{"aria-label":"Mute volume",type:"button","data-cy":"cartDeleteButton",className:"cart__close icon-button icon-button--close",onClick:function(){return function(e){var a=t.filter((function(t){return t.itemId!==(null===e||void 0===e?void 0:e.itemId)}));window.localStorage.setItem("cartedProducts",JSON.stringify(a)),c(a),i((function(t){return t-e.price*e.count})),j((function(t){return t-e.count}))}(e)}}),Object(p.jsx)("div",{className:"cart__img-container",children:Object(p.jsx)("img",{className:"cart__img",src:e.image,alt:e.name})}),Object(p.jsx)("p",{className:"cart__product-title",children:e.name}),Object(p.jsxs)("div",{className:"cart__counts_container",children:[Object(p.jsx)("button",{type:"button",className:" cart__button icon-button",onClick:function(){return v(e,"dec")},disabled:1===e.count,children:"-"}),Object(p.jsx)("p",{className:"cart__count","data-cy":"productQauntity",children:e.count}),Object(p.jsx)("button",{type:"button",className:" cart__button icon-button",onClick:function(){return v(e,"inc")},children:"+"})]}),Object(p.jsxs)("p",{className:"cart__price",children:["$",e.price]})]},e.itemId)}))}),Object(p.jsxs)("div",{className:"cart__checkout",children:[Object(p.jsxs)("p",{className:"cart__total-price",children:["$",s]}),Object(p.jsxs)("p",{className:"cart__total-items",children:["Total for ",u," item",u>1?"s":""]}),Object(p.jsx)("button",{type:"button",className:" cart__button-checkout icon-button",onClick:_,children:"Checkout"})]})]})]}),h&&Object(p.jsx)(Y,{callback:_})]})},re=function(e){var t=e.menuItems,c=e.isActiveMenu,a=e.toggleMenu;return Object(p.jsxs)("div",{className:m()("menu","App__menu",{"App__menu--is-active":c}),children:[Object(p.jsx)("button",{type:"button",className:"menu__close",onClick:a,children:"+"}),Object(p.jsx)("ul",{className:"menu__list",children:t.map((function(e){return Object(p.jsx)("li",{className:"menu__item",children:Object(p.jsx)(s.b,{to:e.to,className:"menu__link",onClick:a,children:e.title})},e.title)}))})]})},oe=[{to:"/",title:"Home"},{to:"/phones",title:"Phones"},{to:"/tablets",title:"Tablets"},{to:"/accessories",title:"Accessories"}],le=function(){var e=Object(d.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(d.useState)(null),s=Object(r.a)(n,2),o=s[0],j=s[1],b=Object(d.useState)(!1),m=Object(r.a)(b,2),O=m[0],_=m[1],v=Object(d.useState)(!1),f=Object(r.a)(v,2),x=f[0],g=f[1],y=function(){a(!c)};function k(){return(k=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,X();case 4:t=e.sent,j(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g(!0);case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[]),O?Object(p.jsx)($,{}):!O&&x?Object(p.jsx)(H,{}):Object(p.jsx)(h,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(N,{menuItems:oe,toggleMenu:y}),Object(p.jsx)(re,{menuItems:oe,isActiveMenu:c,toggleMenu:y}),Object(p.jsxs)(u.e,{children:[Object(p.jsx)(u.c,{path:"/",element:Object(p.jsx)(D,{products:o})}),Object(p.jsx)(u.c,{path:"/home",element:Object(p.jsx)(u.a,{to:"/",replace:!0})}),Object(p.jsxs)(u.c,{path:"/phones",element:Object(p.jsx)(Q,{category:"phones"}),children:[Object(p.jsx)(u.c,{index:!0,element:Object(p.jsx)(ce,{title:"Mobile phones",category:"phones"})}),Object(p.jsx)(u.c,{path:":selectedProductId",element:Object(p.jsx)(ne,{products:o})})]}),Object(p.jsxs)(u.c,{path:"/tablets",element:Object(p.jsx)(Q,{category:"tablets"}),children:[Object(p.jsx)(u.c,{index:!0,element:Object(p.jsx)(ce,{title:"Tablets",category:"tablets"})}),Object(p.jsx)(u.c,{path:":selectedProductId",element:Object(p.jsx)(ne,{products:o})})]}),Object(p.jsxs)(u.c,{path:"/accessories",element:Object(p.jsx)(Q,{category:"accessories"}),children:[Object(p.jsx)(u.c,{index:!0,element:Object(p.jsx)(ce,{title:"Accessories",category:"accessories"})}),Object(p.jsx)(u.c,{path:":selectedProductId",element:Object(p.jsx)(ne,{products:o})})]}),Object(p.jsx)(u.c,{path:"/favorites",element:Object(p.jsx)(se,{})}),Object(p.jsx)(u.c,{path:"/cart",element:Object(p.jsx)(ie,{})}),Object(p.jsx)(u.c,{path:"*",element:Object(p.jsx)("div",{className:"App__not-found",children:Object(p.jsx)(H,{message:"Page is not found"})})})]}),Object(p.jsx)(G,{})]})})};c(33);n.a.render(Object(p.jsx)(s.a,{children:Object(p.jsx)(le,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.3bd4a5c8.chunk.js.map